---
interface Props {
	href: string;
	class?: string;
}

const { href, class: className, ...rest } = Astro.props;
---

<button {...rest} class:list={[className]} data-href={href}>
	<slot />
</button>

<script>
	const buttons = document.querySelectorAll(
		"button[data-href]"
	) as NodeListOf<HTMLElement>;

	buttons.forEach((button) => {
		const { dataset } = button;

		button.addEventListener("click", () => {
			if (dataset.href) {
				window.open(dataset.href, "_blank");
			}
		});
	});
</script>
